{
  "version": 4,
  "terraform_version": "1.4.6",
  "serial": 14,
  "lineage": "ee81ed03-aaae-6c7e-048f-d5ae5e7e3083",
  "outputs": {},
  "resources": [
    {
      "mode": "data",
      "type": "google_client_config",
      "name": "provider",
      "provider": "provider[\"registry.terraform.io/hashicorp/google\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "access_token": "ya29.a0AfB_byBH6J4Ke6-DyjOsUZ9cJSFVkl-79yrUrwNNQdohC1255MwfsJRogeptNdzOCOUtaLhozysdBgl4QFZAZbMXXxtHWmL7P2oTykmSvttOf5kc7sGpItKT7sfHOJsKetgsFr66cW2dKjPjwFAx1hQgTERG5IQgG-M1_3saCgYKAS4SARASFQGOcNnCSc083mj2cu2JdB217_NRvA0174",
            "id": "projects//regions//zones/",
            "project": "",
            "region": "",
            "zone": ""
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "module": "module.jupyterhub",
      "mode": "managed",
      "type": "helm_release",
      "name": "jupyterhub",
      "provider": "provider[\"registry.terraform.io/hashicorp/helm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "atomic": false,
            "chart": "jupyterhub",
            "cleanup_on_fail": false,
            "create_namespace": false,
            "dependency_update": false,
            "description": null,
            "devel": null,
            "disable_crd_hooks": false,
            "disable_openapi_validation": false,
            "disable_webhooks": false,
            "force_update": false,
            "id": "jupyterhub",
            "keyring": null,
            "lint": false,
            "manifest": null,
            "max_history": 0,
            "metadata": [
              {
                "app_version": "4.0.2",
                "chart": "jupyterhub",
                "name": "jupyterhub",
                "namespace": "imreddy",
                "revision": 1,
                "values": "{\"hub\":{\"config\":{\"Authenticator\":{\"admin_users\":[\"user1\",\"user2\"],\"allowed_users\":[\"user3\",\"user4\"]},\"DummyAuthenticator\":{\"password\":\"password\"},\"JupyterHub\":{\"authenticator_class\":\"dummy\"}},\"networkPolicy\":{\"enabled\":false}},\"prePuller\":{\"hook\":{\"enabled\":false}},\"proxy\":{\"chp\":{\"networkPolicy\":{\"enabled\":false}},\"traefik\":{\"networkPolicy\":{\"enabled\":false}}},\"scheduling\":{\"userScheduler\":{\"enabled\":false}},\"singleuser\":{\"cloudMetadata\":{\"blockWithIptables\":false},\"cmd\":null,\"image\":{\"name\":\"jupyter/tensorflow-notebook\",\"tag\":\"python-3.10\"},\"networkPolicy\":{\"enabled\":false},\"nodeSelector\":{\"iam.gke.io/gke-metadata-server-enabled\":\"true\"}}}",
                "version": "3.0.3"
              }
            ],
            "name": "jupyterhub",
            "namespace": "imreddy",
            "pass_credentials": false,
            "postrender": [],
            "recreate_pods": false,
            "render_subchart_notes": true,
            "replace": false,
            "repository": "https://jupyterhub.github.io/helm-chart",
            "repository_ca_file": null,
            "repository_cert_file": null,
            "repository_key_file": null,
            "repository_password": null,
            "repository_username": null,
            "reset_values": false,
            "reuse_values": false,
            "set": [],
            "set_sensitive": [],
            "skip_crds": false,
            "status": "deployed",
            "timeout": 300,
            "values": [
              "# Copyright 2023 Google LLC\n#\n# Licensed under the Apache License, Version 2.0 (the \"License\");\n# you may not use this file except in compliance with the License.\n# You may obtain a copy of the License at\n#\n#     http://www.apache.org/licenses/LICENSE-2.0\n#\n# Unless required by applicable law or agreed to in writing, software\n# distributed under the License is distributed on an \"AS IS\" BASIS,\n# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n# See the License for the specific language governing permissions and\n# limitations under the License.\n\nhub:\n  config:\n    Authenticator:\n      admin_users:\n        - user1\n        - user2\n      allowed_users:\n        - user3\n        - user4\n    # ...\n    DummyAuthenticator:\n      password: password\n    JupyterHub:\n      authenticator_class: dummy\n  networkPolicy:\n    enabled: false\n\nprePuller:\n  hook:\n    enabled: false\n\nproxy:\n  chp:\n    networkPolicy:\n      enabled: false\n  traefik:\n    networkPolicy:\n      enabled: false\n\nscheduling:\n  userScheduler:\n    enabled: false\n\nsingleuser:\n  nodeSelector:\n    iam.gke.io/gke-metadata-server-enabled: \"true\"\n  image:\n    # You should replace the \"latest\" tag with a fixed version from:\n    # https://hub.docker.com/r/jupyter/datascience-notebook/tags/\n    # Inspect the Dockerfile at:\n    # https://github.com/jupyter/docker-stacks/tree/HEAD/datascience-notebook/Dockerfile\n    name: jupyter/tensorflow-notebook\n    tag: python-3.10\n  # `cmd: null` allows the custom CMD of the Jupyter docker-stacks to be used\n  # which performs further customization on startup.\n  cmd: null\n  cloudMetadata:\n    blockWithIptables: false\n  networkPolicy:\n    enabled: false\n"
            ],
            "verify": false,
            "version": "3.0.3",
            "wait": true,
            "wait_for_jobs": false
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "module.kubernetes.data.local_file.fluentd_config_yaml",
            "module.kubernetes.kubectl_manifest.fluentd_config"
          ]
        }
      ]
    },
    {
      "module": "module.kuberay",
      "mode": "managed",
      "type": "helm_release",
      "name": "ray-cluster",
      "provider": "provider[\"registry.terraform.io/hashicorp/helm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "atomic": false,
            "chart": "ray-cluster",
            "cleanup_on_fail": false,
            "create_namespace": false,
            "dependency_update": false,
            "description": null,
            "devel": null,
            "disable_crd_hooks": false,
            "disable_openapi_validation": false,
            "disable_webhooks": false,
            "force_update": false,
            "id": "example-cluster",
            "keyring": null,
            "lint": false,
            "manifest": null,
            "max_history": 0,
            "metadata": [
              {
                "app_version": "",
                "chart": "ray-cluster",
                "name": "example-cluster",
                "namespace": "imreddy",
                "revision": 1,
                "values": "{\"additionalWorkerGroups\":{\"smallGroup\":{\"affinity\":{},\"annotations\":{\"key\":\"value\"},\"containerEnv\":[],\"disabled\":true,\"envFrom\":[],\"initContainerImage\":\"busybox:1.28\",\"initContainerSecurityContext\":{},\"labels\":{},\"maxReplicas\":3,\"minReplicas\":1,\"nodeSelector\":{},\"rayStartParams\":{\"block\":\"true\"},\"replicas\":1,\"resources\":{\"limits\":{\"cpu\":1,\"memory\":\"1G\"},\"requests\":{\"cpu\":1,\"memory\":\"1G\"}},\"securityContext\":{},\"sidecarContainers\":[{\"image\":\"fluent/fluent-bit:1.9.6\",\"name\":\"fluentbit\",\"resources\":{\"limits\":{\"cpu\":\"100m\",\"ephemeral-storage\":\"4Gi\",\"memory\":\"128Mi\"},\"requests\":{\"cpu\":\"100m\",\"ephemeral-storage\":\"2Gi\",\"memory\":\"128Mi\"}},\"volumeMounts\":[{\"mountPath\":\"/tmp/ray\",\"name\":\"ray-logs\"},{\"mountPath\":\"/fluent-bit/etc/\",\"name\":\"fluentbit-config\"}]}],\"tolerations\":[],\"type\":\"worker\",\"volumeMounts\":[{\"mountPath\":\"/tmp/ray\",\"name\":\"ray-logs\"}],\"volumes\":[{\"emptyDir\":{},\"name\":\"ray-logs\"},{\"configMap\":{\"name\":\"fluentbit-config\"},\"name\":\"fluentbit-config\"}]}},\"annotations\":{\"gke-gcsfuse/volumes\":\"true\"},\"fullnameOverride\":\"\",\"head\":{\"affinity\":{},\"annotations\":{\"gke-gcsfuse/volumes\":\"true\"},\"containerEnv\":[{\"name\":\"RAY_memory_monitor_refresh_ms\",\"value\":\"0\"}],\"envFrom\":[],\"groupName\":\"headgroup\",\"labels\":{\"cloud.google.com/gke-ray-node-type\":\"head\"},\"nodeSelector\":{\"cloud.google.com/gke-accelerator\":\"nvidia-tesla-t4\",\"iam.gke.io/gke-metadata-server-enabled\":\"true\"},\"rayStartParams\":{\"block\":\"true\",\"dashboard-host\":\"0.0.0.0\"},\"resources\":{\"limits\":{\"cpu\":\"8\",\"ephemeral-storage\":\"20Gi\",\"memory\":\"20G\",\"nvidia.com/gpu\":\"1\"},\"requests\":{\"cpu\":\"8\",\"ephemeral-storage\":\"10Gi\",\"memory\":\"20G\",\"nvidia.com/gpu\":\"1\"}},\"securityContext\":{},\"sidecarContainers\":[{\"image\":\"fluent/fluent-bit:1.9.6\",\"name\":\"fluentbit\",\"resources\":{\"limits\":{\"cpu\":\"100m\",\"ephemeral-storage\":\"4Gi\",\"memory\":\"128Mi\"},\"requests\":{\"cpu\":\"100m\",\"ephemeral-storage\":\"2Gi\",\"memory\":\"128Mi\"}},\"volumeMounts\":[{\"mountPath\":\"/fluent-bit/etc/\",\"name\":\"fluentbit-config\"}]}],\"tolerations\":[],\"volumeMounts\":[{\"mountPath\":\"/tmp/ray/session_latest/logs\",\"name\":\"gcs-fuse-csi-static\"}],\"volumes\":[{\"configMap\":{\"name\":\"fluentbit-config\"},\"name\":\"fluentbit-config\"},{\"name\":\"gcs-fuse-csi-static\",\"persistentVolumeClaim\":{\"claimName\":\"gcs-fuse-csi-static-pvc\"}}]},\"image\":{\"pullPolicy\":\"IfNotPresent\",\"repository\":\"rayproject/ray\",\"tag\":\"2.3.0-py310-gpu\"},\"imagePullSecrets\":[],\"nameOverride\":\"kuberay\",\"restartPolicy\":\"Never\",\"service\":{\"type\":\"ClusterIP\"},\"worker\":{\"affinity\":{},\"annotations\":{\"gke-gcsfuse/volumes\":\"true\",\"key\":\"value\"},\"containerEnv\":[],\"envFrom\":[],\"groupName\":\"workergroup\",\"initContainerImage\":\"busybox:1.28\",\"initContainerSecurityContext\":{},\"labels\":{\"cloud.google.com/gke-ray-node-type\":\"worker\"},\"nodeSelector\":{\"cloud.google.com/gke-accelerator\":\"nvidia-tesla-t4\",\"iam.gke.io/gke-metadata-server-enabled\":\"true\"},\"rayStartParams\":{\"block\":\"true\"},\"replicas\":0,\"resources\":{\"limits\":{\"cpu\":\"1\",\"ephemeral-storage\":\"20Gi\",\"memory\":\"20G\",\"nvidia.com/gpu\":\"1\"},\"requests\":{\"cpu\":\"1\",\"ephemeral-storage\":\"10Gi\",\"memory\":\"20G\",\"nvidia.com/gpu\":\"1\"}},\"securityContext\":{},\"sidecarContainers\":[{\"image\":\"fluent/fluent-bit:1.9.6\",\"name\":\"fluentbit\",\"resources\":{\"limits\":{\"cpu\":\"100m\",\"ephemeral-storage\":\"4Gi\",\"memory\":\"128Mi\"},\"requests\":{\"cpu\":\"100m\",\"ephemeral-storage\":\"2Gi\",\"memory\":\"128Mi\"}},\"volumeMounts\":[{\"mountPath\":\"/tmp/ray\",\"name\":\"ray-logs\"},{\"mountPath\":\"/fluent-bit/etc/\",\"name\":\"fluentbit-config\"}]}],\"tolerations\":[],\"type\":\"worker\",\"volumeMounts\":[{\"mountPath\":\"/tmp/ray\",\"name\":\"ray-logs\"}],\"volumes\":[{\"emptyDir\":{},\"name\":\"ray-logs\"},{\"configMap\":{\"name\":\"fluentbit-config\"},\"name\":\"fluentbit-config\"}]}}",
                "version": "0.6.1"
              }
            ],
            "name": "example-cluster",
            "namespace": "imreddy",
            "pass_credentials": false,
            "postrender": [],
            "recreate_pods": false,
            "render_subchart_notes": true,
            "replace": false,
            "repository": "https://ray-project.github.io/kuberay-helm/",
            "repository_ca_file": null,
            "repository_cert_file": null,
            "repository_key_file": null,
            "repository_password": null,
            "repository_username": null,
            "reset_values": false,
            "reuse_values": false,
            "set": [],
            "set_sensitive": [],
            "skip_crds": false,
            "status": "deployed",
            "timeout": 300,
            "values": [
              "# Copyright 2023 Google LLC\n#\n# Licensed under the Apache License, Version 2.0 (the \"License\");\n# you may not use this file except in compliance with the License.\n# You may obtain a copy of the License at\n#\n#     http://www.apache.org/licenses/LICENSE-2.0\n#\n# Unless required by applicable law or agreed to in writing, software\n# distributed under the License is distributed on an \"AS IS\" BASIS,\n# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n# See the License for the specific language governing permissions and\n# limitations under the License.\n\n# Default values for ray-cluster.\n# This is a YAML-formatted file.\n# Declare variables to be passed into your templates.\n\n# The KubeRay community welcomes PRs to expose additional configuration\n# in this Helm chart.\n\nimage:\n  # Replace this with your own image if needed.\n  repository: rayproject/ray\n  tag: 2.3.0-py310-gpu\n  pullPolicy: IfNotPresent\n\nrestartPolicy: Never\nnameOverride: \"kuberay\"\nfullnameOverride: \"\"\n\nimagePullSecrets: []\n  # - name: an-existing-secret\n\nannotations:\n  gke-gcsfuse/volumes: \"true\"\n\nhead:\n  groupName: headgroup\n  # If enableInTreeAutoscaling is true, the autoscaler sidecar will be added to the Ray head pod.\n  # Ray autoscaler integration is supported only for Ray versions \u003e= 1.11.0\n  # Ray autoscaler integration is Beta with KubeRay \u003e= 0.3.0 and Ray \u003e= 2.0.0.\n  # enableInTreeAutoscaling: true\n  # autoscalerOptions is an OPTIONAL field specifying configuration overrides for the Ray autoscaler.\n  # The example configuration shown below below represents the DEFAULT values.\n  # autoscalerOptions:\n    # upscalingMode: Default\n    # idleTimeoutSeconds: 60\n    # securityContext: {}\n    # env: []\n    # envFrom: []\n    # resources specifies optional resource request and limit overrides for the autoscaler container.\n    # For large Ray clusters, we recommend monitoring container resource usage to determine if overriding the defaults is required.\n    # resources:\n    #   limits:\n    #     cpu: \"500m\"\n    #     memory: \"512Mi\"\n    #   requests:\n    #     cpu: \"500m\"\n    #     memory: \"512Mi\"\n  labels:\n    cloud.google.com/gke-ray-node-type: head\n  rayStartParams:\n    dashboard-host: '0.0.0.0'\n    block: 'true'\n  # containerEnv specifies environment variables for the Ray container,\n  # Follows standard K8s container env schema.\n  containerEnv:\n  # - name: EXAMPLE_ENV\n  #   value: \"1\"\n    - name: RAY_memory_monitor_refresh_ms\n      value: \"0\"\n  envFrom: []\n    # - secretRef:\n    #     name: my-env-secret\n  # ports optionally allows specifying ports for the Ray container.\n  # ports: []\n  # resource requests and limits for the Ray head container.\n  # Modify as needed for your application.\n  # Note that the resources in this example are much too small for production;\n  # we don't recommend allocating less than 8G memory for a Ray pod in production.\n  # Ray pods should be sized to take up entire K8s nodes when possible.\n  # Always set CPU and memory limits for Ray pods.\n  # It is usually best to set requests equal to limits.\n  # See https://docs.ray.io/en/latest/cluster/kubernetes/user-guides/config.html#resources\n  # for further guidance.\n  resources:\n    limits:\n      cpu: \"8\"\n      nvidia.com/gpu: \"1\"\n      # To avoid out-of-memory issues, never allocate less than 2G memory for the Ray head.\n      memory: \"20G\"\n      ephemeral-storage: 20Gi\n    requests:\n      cpu: \"8\"\n      nvidia.com/gpu: \"1\"\n      memory: \"20G\"\n      ephemeral-storage: 10Gi\n  annotations:\n    gke-gcsfuse/volumes: \"true\"\n  nodeSelector:\n    iam.gke.io/gke-metadata-server-enabled: \"true\"\n    cloud.google.com/gke-accelerator: \"nvidia-tesla-t4\"\n  tolerations: []\n  affinity: {}\n  # Ray container security context.\n  securityContext: {}\n  volumes:\n    #- name: ray-logs\n      #emptyDir: {}\n    - name: fluentbit-config\n      configMap:\n        name: fluentbit-config\n    - name: gcs-fuse-csi-static\n      persistentVolumeClaim:\n        claimName: gcs-fuse-csi-static-pvc\n    #- name: gcs-fuse-csi-ephemeral\n      #csi:\n        #driver: gcsfuse.csi.storage.gke.io\n        #readOnly: true\n        #volumeAttributes:\n          #bucketName: ray-logs\n          #mountOptions: \"implicit-dirs\"\n  # Ray writes logs to /tmp/ray/session_latests/logs\n  volumeMounts:\n    #- mountPath: /tmp/ray\n      #name: ray-logs\n    - name: gcs-fuse-csi-static\n      mountPath: /tmp/ray/session_latest/logs\n      #readOnly: true\n    #- name: gcs-fuse-csi-ephemeral\n      #readOnly: true\n      # mountPath: /data\n  #serviceAccountName: default\n  # sidecarContainers specifies additional containers to attach to the Ray pod.\n  # Follows standard K8s container spec.\n  sidecarContainers:\n    - name: fluentbit\n      image: fluent/fluent-bit:1.9.6\n      # These resource requests for Fluent Bit should be sufficient in production.\n      resources:\n        requests:\n          cpu: 100m\n          memory: 128Mi\n          ephemeral-storage: 2Gi\n        limits:\n          cpu: 100m\n          memory: 128Mi\n          ephemeral-storage: 4Gi\n      volumeMounts:\n      #- mountPath: /tmp/ray\n        #name: ray-logs\n      - mountPath: /fluent-bit/etc/\n        name: fluentbit-config\n\nworker:\n  # If you want to disable the default workergroup\n  # uncomment the line below\n  # disabled: true\n  groupName: workergroup\n  replicas: 0\n  type: worker\n  labels:\n    cloud.google.com/gke-ray-node-type: worker\n  rayStartParams:\n    block: 'true'\n  initContainerImage: 'busybox:1.28'  # Enable users to specify the image for init container. Users can pull the busybox image from their private repositories.\n  # Security context for the init container.\n  initContainerSecurityContext: {}\n  # containerEnv specifies environment variables for the Ray container,\n  # Follows standard K8s container env schema.\n  containerEnv: []\n  # - name: EXAMPLE_ENV\n  #   value: \"1\"\n  envFrom: []\n    # - secretRef:\n    #     name: my-env-secret\n  # ports optionally allows specifying ports for the Ray container.\n  # ports: []\n  # resource requests and limits for the Ray head container.\n  # Modify as needed for your application.\n  # Note that the resources in this example are much too small for production;\n  # we don't recommend allocating less than 8G memory for a Ray pod in production.\n  # Ray pods should be sized to take up entire K8s nodes when possible.\n  # Always set CPU and memory limits for Ray pods.\n  # It is usually best to set requests equal to limits.\n  # See https://docs.ray.io/en/latest/cluster/kubernetes/user-guides/config.html#resources\n  # for further guidance.\n  resources:\n    limits:\n      cpu: \"1\"\n      nvidia.com/gpu: \"1\"\n      memory: \"20G\"\n      ephemeral-storage: 20Gi\n    requests:\n      cpu: \"1\"\n      nvidia.com/gpu: \"1\"\n      memory: \"20G\"\n      ephemeral-storage: 10Gi\n  annotations:\n    key: value\n    gke-gcsfuse/volumes: \"true\"\n  nodeSelector:\n    iam.gke.io/gke-metadata-server-enabled: \"true\"\n    cloud.google.com/gke-accelerator: \"nvidia-tesla-t4\"\n  tolerations: []\n  affinity: {}\n  # Ray container security context.\n  securityContext: {}\n  volumes:\n    - name: ray-logs\n      emptyDir: {}\n    - name: fluentbit-config\n      configMap:\n        name: fluentbit-config\n    #- name: gcs-fuse-csi-ephemeral\n      #csi:\n        #driver: gcsfuse.csi.storage.gke.io\n        #readOnly: true\n        #volumeAttributes:\n          #bucketName: ray-logs\n          #mountOptions: \"implicit-dirs\"\n  # Ray writes logs to /tmp/ray/session_latests/logs\n  volumeMounts:\n    - mountPath: /tmp/ray\n      name: ray-logs\n    #- name: gcs-fuse-csi-ephemeral\n      #mountPath: /tmp/ray\n      #readOnly: true\n  #serviceAccountName: default\n  # sidecarContainers specifies additional containers to attach to the Ray pod.\n  # Follows standard K8s container spec.\n  sidecarContainers:\n    - name: fluentbit\n      image: fluent/fluent-bit:1.9.6\n      # These resource requests for Fluent Bit should be sufficient in production.\n      resources:\n        requests:\n          cpu: 100m\n          memory: 128Mi\n          ephemeral-storage: 2Gi\n        limits:\n          cpu: 100m\n          memory: 128Mi\n          ephemeral-storage: 4Gi\n      volumeMounts:\n      - mountPath: /tmp/ray\n        name: ray-logs\n      - mountPath: /fluent-bit/etc/\n        name: fluentbit-config\n\n# The map's key is used as the groupName.\n# For example, key:small-group in the map below\n# will be used as the groupName\nadditionalWorkerGroups:\n  smallGroup:\n    # Disabled by default\n    disabled: true\n    replicas: 1\n    minReplicas: 1\n    maxReplicas: 3\n    type: worker\n    labels: {}\n    rayStartParams:\n      block: 'true'\n    initContainerImage: 'busybox:1.28'  # Enable users to specify the image for init container. Users can pull the busybox image from their private repositories.\n    # Security context for the init container.\n    initContainerSecurityContext: {}\n  # containerEnv specifies environment variables for the Ray container,\n  # Follows standard K8s container env schema.\n    containerEnv: []\n      # - name: EXAMPLE_ENV\n      #   value: \"1\"\n    envFrom: []\n        # - secretRef:\n        #     name: my-env-secret\n    # ports optionally allows specifying ports for the Ray container.\n    # ports: []\n  # resource requests and limits for the Ray head container.\n  # Modify as needed for your application.\n  # Note that the resources in this example are much too small for production;\n  # we don't recommend allocating less than 8G memory for a Ray pod in production.\n  # Ray pods should be sized to take up entire K8s nodes when possible.\n  # Always set CPU and memory limits for Ray pods.\n  # It is usually best to set requests equal to limits.\n  # See https://docs.ray.io/en/latest/cluster/kubernetes/user-guides/config.html#resources\n  # for further guidance.\n    resources:\n      limits:\n        cpu: 1\n        memory: \"1G\"\n      requests:\n        cpu: 1\n        memory: \"1G\"\n    annotations:\n      key: value\n    nodeSelector: {}\n    tolerations: []\n    affinity: {}\n    # Ray container security context.\n    securityContext: {}\n    volumes:\n      - name: ray-logs\n        emptyDir: {}\n      - name: fluentbit-config\n        configMap:\n          name: fluentbit-config\n    # Ray writes logs to /tmp/ray/session_latests/logs\n    volumeMounts:\n      - mountPath: /tmp/ray\n        name: ray-logs\n    # sidecarContainers specifies additional containers to attach to the Ray pod.\n    # Follows standard K8s container spec.\n    sidecarContainers:\n      - name: fluentbit\n        image: fluent/fluent-bit:1.9.6\n        # These resource requests for Fluent Bit should be sufficient in production.\n        resources:\n          requests:\n            cpu: 100m\n            memory: 128Mi\n            ephemeral-storage: 2Gi\n          limits:\n            cpu: 100m\n            memory: 128Mi\n            ephemeral-storage: 4Gi\n        volumeMounts:\n        - mountPath: /tmp/ray\n          name: ray-logs\n        - mountPath: /fluent-bit/etc/\n          name: fluentbit-config\n\nservice:\n  type: ClusterIP\n"
            ],
            "verify": false,
            "version": "0.6.1",
            "wait": true,
            "wait_for_jobs": false
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "module.kubernetes.data.local_file.fluentd_config_yaml",
            "module.kubernetes.kubectl_manifest.fluentd_config"
          ]
        }
      ]
    },
    {
      "module": "module.kubernetes",
      "mode": "data",
      "type": "local_file",
      "name": "fluentd_config_yaml",
      "provider": "provider[\"registry.terraform.io/hashicorp/local\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "content": "# Copyright 2023 Google LLC\n#\n# Licensed under the Apache License, Version 2.0 (the \"License\");\n# you may not use this file except in compliance with the License.\n# You may obtain a copy of the License at\n#\n#     http://www.apache.org/licenses/LICENSE-2.0\n#\n# Unless required by applicable law or agreed to in writing, software\n# distributed under the License is distributed on an \"AS IS\" BASIS,\n# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n# See the License for the specific language governing permissions and\n# limitations under the License.\n\napiVersion: v1\nkind: ConfigMap\nmetadata:\n  name: fluentbit-config\ndata:\n  fluent-bit.conf: |\n    [SERVICE]\n        Parsers_File parsers.conf\n    [INPUT]\n        Name tail\n        Path /tmp/ray/session_latest/logs/*\n        Tag ray\n        Path_Key filename\n        Refresh_Interval 5\n    [FILTERS]\n        Name parser\n        Match ray\n        Key_Name filename\n        Parser rayjob\n        Reserve_Data On\n    [OUTPUT]\n        Name stdout\n        Format json_lines\n        Match *\n\n  parsers.conf: |\n    [PARSER]\n        Name rayjob\n        Format regex\n        Regex (?\u003cjob_id\u003eraysubmit_[^.]*)\n",
            "content_base64": "IyBDb3B5cmlnaHQgMjAyMyBHb29nbGUgTExDCiMKIyBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKIyB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCiMgWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CiMKIyAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCiMKIyBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCiMgZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKIyBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KIyBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCiMgbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuCgphcGlWZXJzaW9uOiB2MQpraW5kOiBDb25maWdNYXAKbWV0YWRhdGE6CiAgbmFtZTogZmx1ZW50Yml0LWNvbmZpZwpkYXRhOgogIGZsdWVudC1iaXQuY29uZjogfAogICAgW1NFUlZJQ0VdCiAgICAgICAgUGFyc2Vyc19GaWxlIHBhcnNlcnMuY29uZgogICAgW0lOUFVUXQogICAgICAgIE5hbWUgdGFpbAogICAgICAgIFBhdGggL3RtcC9yYXkvc2Vzc2lvbl9sYXRlc3QvbG9ncy8qCiAgICAgICAgVGFnIHJheQogICAgICAgIFBhdGhfS2V5IGZpbGVuYW1lCiAgICAgICAgUmVmcmVzaF9JbnRlcnZhbCA1CiAgICBbRklMVEVSU10KICAgICAgICBOYW1lIHBhcnNlcgogICAgICAgIE1hdGNoIHJheQogICAgICAgIEtleV9OYW1lIGZpbGVuYW1lCiAgICAgICAgUGFyc2VyIHJheWpvYgogICAgICAgIFJlc2VydmVfRGF0YSBPbgogICAgW09VVFBVVF0KICAgICAgICBOYW1lIHN0ZG91dAogICAgICAgIEZvcm1hdCBqc29uX2xpbmVzCiAgICAgICAgTWF0Y2ggKgoKICBwYXJzZXJzLmNvbmY6IHwKICAgIFtQQVJTRVJdCiAgICAgICAgTmFtZSByYXlqb2IKICAgICAgICBGb3JtYXQgcmVnZXgKICAgICAgICBSZWdleCAoPzxqb2JfaWQ+cmF5c3VibWl0X1teLl0qKQo=",
            "content_base64sha256": "KJDyrPKupQA2B3WLgyzCla6xiku79JvwJoMuxOJMNMU=",
            "content_base64sha512": "O48W3N/2kofROdkEg2PBTuiyoABntDPz1Qhzy1hwKe+yr0RyryUDC8Iev6SCip2N/DKLH8RUurEk/DMJzu178Q==",
            "content_md5": "35b8e8555b15f479363352fc87abcf87",
            "content_sha1": "1e121dde88017372856ce88f8dd1b796eb5b599c",
            "content_sha256": "2890f2acf2aea5003607758b832cc295aeb18a4bbbf49bf026832ec4e24c34c5",
            "content_sha512": "3b8f16dcdff69287d139d9048363c14ee8b2a00067b433f3d50873cb587029efb2af4472af25030bc21ebfa4828a9d8dfc328b1fc454bab124fc3309ceed7bf1",
            "filename": "modules/kubernetes/config/fluentd_config.yaml",
            "id": "1e121dde88017372856ce88f8dd1b796eb5b599c"
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "module": "module.kubernetes",
      "mode": "managed",
      "type": "kubectl_manifest",
      "name": "fluentd_config",
      "provider": "provider[\"registry.terraform.io/alekc/kubectl\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "api_version": "v1",
            "apply_only": false,
            "force_conflicts": false,
            "force_new": false,
            "id": "/api/v1/namespaces/imreddy/configmaps/fluentbit-config",
            "ignore_fields": null,
            "kind": "ConfigMap",
            "live_manifest_incluster": "7de01cab6c8ac87549a58a9e2205a1e1a2ff8cd6fecad243bf4bc5408a8597bd",
            "live_uid": "4d6378b7-1ccf-4201-84bc-efe2e01faffc",
            "name": "fluentbit-config",
            "namespace": "imreddy",
            "override_namespace": "imreddy",
            "sensitive_fields": null,
            "server_side_apply": false,
            "timeouts": null,
            "uid": "4d6378b7-1ccf-4201-84bc-efe2e01faffc",
            "validate_schema": true,
            "wait": null,
            "wait_for": [],
            "wait_for_rollout": true,
            "yaml_body": "# Copyright 2023 Google LLC\n#\n# Licensed under the Apache License, Version 2.0 (the \"License\");\n# you may not use this file except in compliance with the License.\n# You may obtain a copy of the License at\n#\n#     http://www.apache.org/licenses/LICENSE-2.0\n#\n# Unless required by applicable law or agreed to in writing, software\n# distributed under the License is distributed on an \"AS IS\" BASIS,\n# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n# See the License for the specific language governing permissions and\n# limitations under the License.\n\napiVersion: v1\nkind: ConfigMap\nmetadata:\n  name: fluentbit-config\ndata:\n  fluent-bit.conf: |\n    [SERVICE]\n        Parsers_File parsers.conf\n    [INPUT]\n        Name tail\n        Path /tmp/ray/session_latest/logs/*\n        Tag ray\n        Path_Key filename\n        Refresh_Interval 5\n    [FILTERS]\n        Name parser\n        Match ray\n        Key_Name filename\n        Parser rayjob\n        Reserve_Data On\n    [OUTPUT]\n        Name stdout\n        Format json_lines\n        Match *\n\n  parsers.conf: |\n    [PARSER]\n        Name rayjob\n        Format regex\n        Regex (?\u003cjob_id\u003eraysubmit_[^.]*)\n",
            "yaml_body_parsed": "apiVersion: v1\ndata:\n  fluent-bit.conf: |\n    [SERVICE]\n        Parsers_File parsers.conf\n    [INPUT]\n        Name tail\n        Path /tmp/ray/session_latest/logs/*\n        Tag ray\n        Path_Key filename\n        Refresh_Interval 5\n    [FILTERS]\n        Name parser\n        Match ray\n        Key_Name filename\n        Parser rayjob\n        Reserve_Data On\n    [OUTPUT]\n        Name stdout\n        Format json_lines\n        Match *\n  parsers.conf: |\n    [PARSER]\n        Name rayjob\n        Format regex\n        Regex (?\u003cjob_id\u003eraysubmit_[^.]*)\nkind: ConfigMap\nmetadata:\n  name: fluentbit-config\n  namespace: imreddy\n",
            "yaml_incluster": "7de01cab6c8ac87549a58a9e2205a1e1a2ff8cd6fecad243bf4bc5408a8597bd"
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDB9LCJzY2hlbWFfdmVyc2lvbiI6IjEifQ==",
          "dependencies": [
            "module.kubernetes.data.local_file.fluentd_config_yaml"
          ]
        }
      ]
    },
    {
      "module": "module.prometheus",
      "mode": "data",
      "type": "local_file",
      "name": "frontend_deployment",
      "provider": "provider[\"registry.terraform.io/hashicorp/local\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "content": "# Copyright 2022 Google LLC\n#\n# Licensed under the Apache License, Version 2.0 (the \"License\");\n# you may not use this file except in compliance with the License.\n# You may obtain a copy of the License at\n#\n#     https:#www.apache.org/licenses/LICENSE-2.0\n#\n# Unless required by applicable law or agreed to in writing, software\n# distributed under the License is distributed on an \"AS IS\" BASIS,\n# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n# See the License for the specific language governing permissions and\n# limitations under the License.\n\napiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: frontend\nspec:\n  replicas: 2\n  selector:\n    matchLabels:\n      app: frontend\n  template:\n    metadata:\n      labels:\n        app: frontend\n    spec:\n      automountServiceAccountToken: true\n      nodeSelector:\n        kubernetes.io/os: linux\n        kubernetes.io/arch: amd64\n      containers:\n      - name: frontend\n        image: \"gke.gcr.io/prometheus-engine/frontend:v0.5.0-gke.0\"\n        args:\n        - \"--web.listen-address=:9090\"\n        - \"--query.project-id=$PROJECT_ID\"\n        ports:\n        - name: web\n          containerPort: 9090\n        readinessProbe:\n          httpGet:\n            path: /-/ready\n            port: web\n        livenessProbe:\n          httpGet:\n            path: /-/healthy\n            port: web\n",
            "content_base64": "IyBDb3B5cmlnaHQgMjAyMiBHb29nbGUgTExDCiMKIyBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKIyB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCiMgWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CiMKIyAgICAgaHR0cHM6I3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCiMKIyBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCiMgZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKIyBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KIyBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCiMgbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuCgphcGlWZXJzaW9uOiBhcHBzL3YxCmtpbmQ6IERlcGxveW1lbnQKbWV0YWRhdGE6CiAgbmFtZTogZnJvbnRlbmQKc3BlYzoKICByZXBsaWNhczogMgogIHNlbGVjdG9yOgogICAgbWF0Y2hMYWJlbHM6CiAgICAgIGFwcDogZnJvbnRlbmQKICB0ZW1wbGF0ZToKICAgIG1ldGFkYXRhOgogICAgICBsYWJlbHM6CiAgICAgICAgYXBwOiBmcm9udGVuZAogICAgc3BlYzoKICAgICAgYXV0b21vdW50U2VydmljZUFjY291bnRUb2tlbjogdHJ1ZQogICAgICBub2RlU2VsZWN0b3I6CiAgICAgICAga3ViZXJuZXRlcy5pby9vczogbGludXgKICAgICAgICBrdWJlcm5ldGVzLmlvL2FyY2g6IGFtZDY0CiAgICAgIGNvbnRhaW5lcnM6CiAgICAgIC0gbmFtZTogZnJvbnRlbmQKICAgICAgICBpbWFnZTogImdrZS5nY3IuaW8vcHJvbWV0aGV1cy1lbmdpbmUvZnJvbnRlbmQ6djAuNS4wLWdrZS4wIgogICAgICAgIGFyZ3M6CiAgICAgICAgLSAiLS13ZWIubGlzdGVuLWFkZHJlc3M9OjkwOTAiCiAgICAgICAgLSAiLS1xdWVyeS5wcm9qZWN0LWlkPSRQUk9KRUNUX0lEIgogICAgICAgIHBvcnRzOgogICAgICAgIC0gbmFtZTogd2ViCiAgICAgICAgICBjb250YWluZXJQb3J0OiA5MDkwCiAgICAgICAgcmVhZGluZXNzUHJvYmU6CiAgICAgICAgICBodHRwR2V0OgogICAgICAgICAgICBwYXRoOiAvLS9yZWFkeQogICAgICAgICAgICBwb3J0OiB3ZWIKICAgICAgICBsaXZlbmVzc1Byb2JlOgogICAgICAgICAgaHR0cEdldDoKICAgICAgICAgICAgcGF0aDogLy0vaGVhbHRoeQogICAgICAgICAgICBwb3J0OiB3ZWIK",
            "content_base64sha256": "lYHCMg4SDs4FDalJh9mSx6qbCAwrCMhfA3IOXihVTDo=",
            "content_base64sha512": "M2ofSQrdx3vpGk7A8FnALYDkVGrtmRnd+GIFDkztFKPCO437I9nY/GaJufoXnOoIKtyfef9lcoh1R0ofdXRO4g==",
            "content_md5": "04ab4bc3d988ea3e532f93138d24217f",
            "content_sha1": "b6de2a30e131631019722274e785cab2f0a035b4",
            "content_sha256": "9581c2320e120ece050da94987d992c7aa9b080c2b08c85f03720e5e28554c3a",
            "content_sha512": "336a1f490addc77be91a4ec0f059c02d80e4546aed9919ddf862050e4ced14a3c23b8dfb23d9d8fc6689b9fa179cea082adc9f79ff65728875474a1f75744ee2",
            "filename": "modules/prometheus/config/frontend-deployment.yaml",
            "id": "b6de2a30e131631019722274e785cab2f0a035b4"
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "module": "module.prometheus",
      "mode": "data",
      "type": "local_file",
      "name": "frontend_service",
      "provider": "provider[\"registry.terraform.io/hashicorp/local\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "content": "# Copyright 2022 Google LLC\n#\n# Licensed under the Apache License, Version 2.0 (the \"License\");\n# you may not use this file except in compliance with the License.\n# You may obtain a copy of the License at\n#\n#     https:#www.apache.org/licenses/LICENSE-2.0\n#\n# Unless required by applicable law or agreed to in writing, software\n# distributed under the License is distributed on an \"AS IS\" BASIS,\n# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n# See the License for the specific language governing permissions and\n# limitations under the License.\n\napiVersion: v1\nkind: Service\nmetadata:\n  name: frontend\nspec:\n  clusterIP: None\n  selector:\n    app: frontend\n  ports:\n  - name: web\n    port: 9090\n",
            "content_base64": "IyBDb3B5cmlnaHQgMjAyMiBHb29nbGUgTExDCiMKIyBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKIyB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCiMgWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CiMKIyAgICAgaHR0cHM6I3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCiMKIyBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCiMgZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKIyBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KIyBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCiMgbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuCgphcGlWZXJzaW9uOiB2MQpraW5kOiBTZXJ2aWNlCm1ldGFkYXRhOgogIG5hbWU6IGZyb250ZW5kCnNwZWM6CiAgY2x1c3RlcklQOiBOb25lCiAgc2VsZWN0b3I6CiAgICBhcHA6IGZyb250ZW5kCiAgcG9ydHM6CiAgLSBuYW1lOiB3ZWIKICAgIHBvcnQ6IDkwOTAK",
            "content_base64sha256": "sG1LuQavrZPtWrJg6395nYkZ6WSmiYOEHUzE566Vet8=",
            "content_base64sha512": "KubG3HQbjLG/mRVT4zR/3kHONjf6GchfvAHKVrPwcJS2nyxqPK8Y1GBtG4Rqt+lmKIN/a9BNFjcnYl+4gJ8daw==",
            "content_md5": "bb46a85f3039ee59eb62f9ac22e8178e",
            "content_sha1": "137588f8984626bbbfe8c47f1cea1aacb36f0df9",
            "content_sha256": "b06d4bb906afad93ed5ab260eb7f799d8919e964a68983841d4cc4e7ae957adf",
            "content_sha512": "2ae6c6dc741b8cb1bf991553e3347fde41ce3637fa19c85fbc01ca56b3f07094b69f2c6a3caf18d4606d1b846ab7e96628837f6bd04d163727625fb8809f1d6b",
            "filename": "modules/prometheus/config/frontend-service.yaml",
            "id": "137588f8984626bbbfe8c47f1cea1aacb36f0df9"
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "module": "module.prometheus",
      "mode": "data",
      "type": "local_file",
      "name": "grafana_deployment",
      "provider": "provider[\"registry.terraform.io/hashicorp/local\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "content": "# Copyright 2022 Google LLC\n#\n# Licensed under the Apache License, Version 2.0 (the \"License\");\n# you may not use this file except in compliance with the License.\n# You may obtain a copy of the License at\n#\n#     https:#www.apache.org/licenses/LICENSE-2.0\n#\n# Unless required by applicable law or agreed to in writing, software\n# distributed under the License is distributed on an \"AS IS\" BASIS,\n# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n# See the License for the specific language governing permissions and\n# limitations under the License.\n\napiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: grafana\nspec:\n  replicas: 1\n  selector:\n    matchLabels:\n      app: grafana\n  template:\n    metadata:\n      labels:\n        app: grafana\n    spec:\n      nodeSelector:\n        kubernetes.io/os: linux\n        kubernetes.io/arch: amd64\n      containers:\n      - name: grafana\n        image: grafana/grafana:8.3.4\n        ports:\n        - name: web\n          containerPort: 3000\n",
            "content_base64": "IyBDb3B5cmlnaHQgMjAyMiBHb29nbGUgTExDCiMKIyBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKIyB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCiMgWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CiMKIyAgICAgaHR0cHM6I3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCiMKIyBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCiMgZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKIyBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KIyBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCiMgbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuCgphcGlWZXJzaW9uOiBhcHBzL3YxCmtpbmQ6IERlcGxveW1lbnQKbWV0YWRhdGE6CiAgbmFtZTogZ3JhZmFuYQpzcGVjOgogIHJlcGxpY2FzOiAxCiAgc2VsZWN0b3I6CiAgICBtYXRjaExhYmVsczoKICAgICAgYXBwOiBncmFmYW5hCiAgdGVtcGxhdGU6CiAgICBtZXRhZGF0YToKICAgICAgbGFiZWxzOgogICAgICAgIGFwcDogZ3JhZmFuYQogICAgc3BlYzoKICAgICAgbm9kZVNlbGVjdG9yOgogICAgICAgIGt1YmVybmV0ZXMuaW8vb3M6IGxpbnV4CiAgICAgICAga3ViZXJuZXRlcy5pby9hcmNoOiBhbWQ2NAogICAgICBjb250YWluZXJzOgogICAgICAtIG5hbWU6IGdyYWZhbmEKICAgICAgICBpbWFnZTogZ3JhZmFuYS9ncmFmYW5hOjguMy40CiAgICAgICAgcG9ydHM6CiAgICAgICAgLSBuYW1lOiB3ZWIKICAgICAgICAgIGNvbnRhaW5lclBvcnQ6IDMwMDAK",
            "content_base64sha256": "J/AfG5/rO/N55nnOSq6qDEuOxWM1LTREXoKKvlsEu00=",
            "content_base64sha512": "8omr3loU7TcR47IrufoQAPoLemydx4oUfugBRK/XrhvlFfvo5cvnCQ9FOvcVO2dEkccSwZ3uGlsL3CaZzap1uA==",
            "content_md5": "44fa4b68cb75ee0b64474dbcbbea8cfa",
            "content_sha1": "1b02c86aa9f38a3dc53f5d2f13293bdc7ed04693",
            "content_sha256": "27f01f1b9feb3bf379e679ce4aaeaa0c4b8ec563352d34445e828abe5b04bb4d",
            "content_sha512": "f289abde5a14ed3711e3b22bb9fa1000fa0b7a6c9dc78a147ee80144afd7ae1be515fbe8e5cbe7090f453af7153b674491c712c19dee1a5b0bdc2699cdaa75b8",
            "filename": "modules/prometheus/config/grafana-deployment.yaml",
            "id": "1b02c86aa9f38a3dc53f5d2f13293bdc7ed04693"
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "module": "module.prometheus",
      "mode": "data",
      "type": "local_file",
      "name": "grafana_service",
      "provider": "provider[\"registry.terraform.io/hashicorp/local\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "content": "# Copyright 2022 Google LLC\n#\n# Licensed under the Apache License, Version 2.0 (the \"License\");\n# you may not use this file except in compliance with the License.\n# You may obtain a copy of the License at\n#\n#     https:#www.apache.org/licenses/LICENSE-2.0\n#\n# Unless required by applicable law or agreed to in writing, software\n# distributed under the License is distributed on an \"AS IS\" BASIS,\n# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n# See the License for the specific language governing permissions and\n# limitations under the License.\n\napiVersion: v1\nkind: Service\nmetadata:\n  name: grafana\nspec:\n  clusterIP: None\n  selector:\n    app: grafana\n  ports:\n  - name: web\n    port: 3000\n",
            "content_base64": "IyBDb3B5cmlnaHQgMjAyMiBHb29nbGUgTExDCiMKIyBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKIyB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCiMgWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CiMKIyAgICAgaHR0cHM6I3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCiMKIyBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCiMgZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKIyBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KIyBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCiMgbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuCgphcGlWZXJzaW9uOiB2MQpraW5kOiBTZXJ2aWNlCm1ldGFkYXRhOgogIG5hbWU6IGdyYWZhbmEKc3BlYzoKICBjbHVzdGVySVA6IE5vbmUKICBzZWxlY3RvcjoKICAgIGFwcDogZ3JhZmFuYQogIHBvcnRzOgogIC0gbmFtZTogd2ViCiAgICBwb3J0OiAzMDAwCg==",
            "content_base64sha256": "uPWXePh0GkiamLMb/6sFuse0/xX2WEKOaKTZ8625qdc=",
            "content_base64sha512": "+V9LNvUf+3HuE6Cge18AdBs8OcmGX5pVQZ166+ZErH7gQubNIqnCwd2K/Q6EOTcVrlyXsABCo2tZmBK06iyJ3A==",
            "content_md5": "825a9b1c72cc95a3a1d89fc8e8298eb8",
            "content_sha1": "9dfad4ebf39faa08a6c75034434fc061e3e5af71",
            "content_sha256": "b8f59778f8741a489a98b31bffab05bac7b4ff15f658428e68a4d9f3adb9a9d7",
            "content_sha512": "f95f4b36f51ffb71ee13a0a07b5f00741b3c39c9865f9a55419d7aebe644ac7ee042e6cd22a9c2c1dd8afd0e84393715ae5c97b00042a36b599812b4ea2c89dc",
            "filename": "modules/prometheus/config/grafana-service.yaml",
            "id": "9dfad4ebf39faa08a6c75034434fc061e3e5af71"
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "module": "module.prometheus",
      "mode": "data",
      "type": "local_file",
      "name": "pod_monitor_yaml",
      "provider": "provider[\"registry.terraform.io/hashicorp/local\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "content": "# Copyright 2023 Google LLC\n#\n# Licensed under the Apache License, Version 2.0 (the \"License\");\n# you may not use this file except in compliance with the License.\n# You may obtain a copy of the License at\n#\n#     http://www.apache.org/licenses/LICENSE-2.0\n#\n# Unless required by applicable law or agreed to in writing, software\n# distributed under the License is distributed on an \"AS IS\" BASIS,\n# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n# See the License for the specific language governing permissions and\n# limitations under the License.\n\napiVersion: monitoring.googleapis.com/v1\nkind: PodMonitoring\nmetadata:\n  name: ray-monitoring\nspec:\n  selector:\n    matchLabels:\n      ray.io/is-ray-node: \"yes\"\n  endpoints:\n  - port: metrics\n    interval: 30s\n",
            "content_base64": "IyBDb3B5cmlnaHQgMjAyMyBHb29nbGUgTExDCiMKIyBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKIyB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCiMgWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CiMKIyAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCiMKIyBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCiMgZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKIyBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KIyBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCiMgbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuCgphcGlWZXJzaW9uOiBtb25pdG9yaW5nLmdvb2dsZWFwaXMuY29tL3YxCmtpbmQ6IFBvZE1vbml0b3JpbmcKbWV0YWRhdGE6CiAgbmFtZTogcmF5LW1vbml0b3JpbmcKc3BlYzoKICBzZWxlY3RvcjoKICAgIG1hdGNoTGFiZWxzOgogICAgICByYXkuaW8vaXMtcmF5LW5vZGU6ICJ5ZXMiCiAgZW5kcG9pbnRzOgogIC0gcG9ydDogbWV0cmljcwogICAgaW50ZXJ2YWw6IDMwcwo=",
            "content_base64sha256": "MUrbGiT0Rnzel4AIWoRokUTRdE02sw/uqbcSeAzRPwY=",
            "content_base64sha512": "WZuI//SpLry5NZCjVENFsnCnaRNDqvbsuLSIE4IKhvd6FsgCuviZB9YQSAZqAeaDdaTq7TrvhtNv2Kvd5/QJvw==",
            "content_md5": "0e61fafc1d8f4f410c7df7dc86369c12",
            "content_sha1": "e1604ca0f813b53a79a365710deda91ad12f679a",
            "content_sha256": "314adb1a24f4467cde9780085a84689144d1744d36b30feea9b712780cd13f06",
            "content_sha512": "599b88fff4a92ebcb93590a3544345b270a7691343aaf6ecb8b48813820a86f77a16c802baf89907d61048066a01e68375a4eaed3aef86d36fd8abdde7f409bf",
            "filename": "modules/prometheus/config/pod_monitor.yaml",
            "id": "e1604ca0f813b53a79a365710deda91ad12f679a"
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "module": "module.prometheus",
      "mode": "managed",
      "type": "kubectl_manifest",
      "name": "pod_monitor",
      "provider": "provider[\"registry.terraform.io/alekc/kubectl\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "api_version": "monitoring.googleapis.com/v1",
            "apply_only": false,
            "force_conflicts": false,
            "force_new": false,
            "id": "/apis/monitoring.googleapis.com/v1/namespaces/imreddy/podmonitorings/ray-monitoring",
            "ignore_fields": null,
            "kind": "PodMonitoring",
            "live_manifest_incluster": "7ab166651b955d56b9bf7da2295e38a7af5de3c2b4d617abbb2f592cc4a177c6",
            "live_uid": "48b1aba7-09e9-49e7-a573-bd42c19f6909",
            "name": "ray-monitoring",
            "namespace": "imreddy",
            "override_namespace": "imreddy",
            "sensitive_fields": null,
            "server_side_apply": false,
            "timeouts": null,
            "uid": "48b1aba7-09e9-49e7-a573-bd42c19f6909",
            "validate_schema": true,
            "wait": null,
            "wait_for": [],
            "wait_for_rollout": true,
            "yaml_body": "# Copyright 2023 Google LLC\n#\n# Licensed under the Apache License, Version 2.0 (the \"License\");\n# you may not use this file except in compliance with the License.\n# You may obtain a copy of the License at\n#\n#     http://www.apache.org/licenses/LICENSE-2.0\n#\n# Unless required by applicable law or agreed to in writing, software\n# distributed under the License is distributed on an \"AS IS\" BASIS,\n# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n# See the License for the specific language governing permissions and\n# limitations under the License.\n\napiVersion: monitoring.googleapis.com/v1\nkind: PodMonitoring\nmetadata:\n  name: ray-monitoring\nspec:\n  selector:\n    matchLabels:\n      ray.io/is-ray-node: \"yes\"\n  endpoints:\n  - port: metrics\n    interval: 30s\n",
            "yaml_body_parsed": "apiVersion: monitoring.googleapis.com/v1\nkind: PodMonitoring\nmetadata:\n  name: ray-monitoring\n  namespace: imreddy\nspec:\n  endpoints:\n  - interval: 30s\n    port: metrics\n  selector:\n    matchLabels:\n      ray.io/is-ray-node: \"yes\"\n",
            "yaml_incluster": "7ab166651b955d56b9bf7da2295e38a7af5de3c2b4d617abbb2f592cc4a177c6"
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDB9LCJzY2hlbWFfdmVyc2lvbiI6IjEifQ==",
          "dependencies": [
            "module.kuberay.helm_release.ray-cluster",
            "module.kubernetes.data.local_file.fluentd_config_yaml",
            "module.kubernetes.kubectl_manifest.fluentd_config",
            "module.prometheus.data.local_file.pod_monitor_yaml"
          ]
        }
      ]
    },
    {
      "module": "module.prometheus",
      "mode": "managed",
      "type": "kubectl_manifest",
      "name": "prometheus_frontend",
      "provider": "provider[\"registry.terraform.io/alekc/kubectl\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "api_version": "apps/v1",
            "apply_only": false,
            "force_conflicts": false,
            "force_new": false,
            "id": "/apis/apps/v1/namespaces/imreddy/deployments/frontend",
            "ignore_fields": null,
            "kind": "Deployment",
            "live_manifest_incluster": "c389001aae5b8311770f04aa29ea071f0ec4a5c2b75f4043d3198366c00224d0",
            "live_uid": "63d3c09d-c25e-470c-ba04-b82cc44c21ae",
            "name": "frontend",
            "namespace": "imreddy",
            "override_namespace": "imreddy",
            "sensitive_fields": null,
            "server_side_apply": false,
            "timeouts": null,
            "uid": "63d3c09d-c25e-470c-ba04-b82cc44c21ae",
            "validate_schema": true,
            "wait": null,
            "wait_for": [],
            "wait_for_rollout": true,
            "yaml_body": "# Copyright 2022 Google LLC\n#\n# Licensed under the Apache License, Version 2.0 (the \"License\");\n# you may not use this file except in compliance with the License.\n# You may obtain a copy of the License at\n#\n#     https:#www.apache.org/licenses/LICENSE-2.0\n#\n# Unless required by applicable law or agreed to in writing, software\n# distributed under the License is distributed on an \"AS IS\" BASIS,\n# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n# See the License for the specific language governing permissions and\n# limitations under the License.\n\napiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: frontend\nspec:\n  replicas: 2\n  selector:\n    matchLabels:\n      app: frontend\n  template:\n    metadata:\n      labels:\n        app: frontend\n    spec:\n      automountServiceAccountToken: true\n      nodeSelector:\n        kubernetes.io/os: linux\n        kubernetes.io/arch: amd64\n      containers:\n      - name: frontend\n        image: \"gke.gcr.io/prometheus-engine/frontend:v0.5.0-gke.0\"\n        args:\n        - \"--web.listen-address=:9090\"\n        - \"--query.project-id=imreddy-gke-dev\"\n        ports:\n        - name: web\n          containerPort: 9090\n        readinessProbe:\n          httpGet:\n            path: /-/ready\n            port: web\n        livenessProbe:\n          httpGet:\n            path: /-/healthy\n            port: web\n",
            "yaml_body_parsed": "apiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: frontend\n  namespace: imreddy\nspec:\n  replicas: 2\n  selector:\n    matchLabels:\n      app: frontend\n  template:\n    metadata:\n      labels:\n        app: frontend\n    spec:\n      automountServiceAccountToken: true\n      containers:\n      - args:\n        - --web.listen-address=:9090\n        - --query.project-id=imreddy-gke-dev\n        image: gke.gcr.io/prometheus-engine/frontend:v0.5.0-gke.0\n        livenessProbe:\n          httpGet:\n            path: /-/healthy\n            port: web\n        name: frontend\n        ports:\n        - containerPort: 9090\n          name: web\n        readinessProbe:\n          httpGet:\n            path: /-/ready\n            port: web\n      nodeSelector:\n        kubernetes.io/arch: amd64\n        kubernetes.io/os: linux\n",
            "yaml_incluster": "c389001aae5b8311770f04aa29ea071f0ec4a5c2b75f4043d3198366c00224d0"
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDB9LCJzY2hlbWFfdmVyc2lvbiI6IjEifQ==",
          "dependencies": [
            "module.kuberay.helm_release.ray-cluster",
            "module.kubernetes.data.local_file.fluentd_config_yaml",
            "module.kubernetes.kubectl_manifest.fluentd_config",
            "module.prometheus.data.local_file.frontend_deployment"
          ]
        }
      ]
    },
    {
      "module": "module.prometheus",
      "mode": "managed",
      "type": "kubectl_manifest",
      "name": "prometheus_frontend_service",
      "provider": "provider[\"registry.terraform.io/alekc/kubectl\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "api_version": "v1",
            "apply_only": false,
            "force_conflicts": false,
            "force_new": false,
            "id": "/api/v1/namespaces/imreddy/services/frontend",
            "ignore_fields": null,
            "kind": "Service",
            "live_manifest_incluster": "4ab5044fc7dbd822995b4d019b9cee5cec65a61bcc5d5898ddd19a2975038ca2",
            "live_uid": "b24034ab-fdbb-4438-8bc0-baa4eea5b6f6",
            "name": "frontend",
            "namespace": "imreddy",
            "override_namespace": "imreddy",
            "sensitive_fields": null,
            "server_side_apply": false,
            "timeouts": null,
            "uid": "b24034ab-fdbb-4438-8bc0-baa4eea5b6f6",
            "validate_schema": true,
            "wait": null,
            "wait_for": [],
            "wait_for_rollout": true,
            "yaml_body": "# Copyright 2022 Google LLC\n#\n# Licensed under the Apache License, Version 2.0 (the \"License\");\n# you may not use this file except in compliance with the License.\n# You may obtain a copy of the License at\n#\n#     https:#www.apache.org/licenses/LICENSE-2.0\n#\n# Unless required by applicable law or agreed to in writing, software\n# distributed under the License is distributed on an \"AS IS\" BASIS,\n# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n# See the License for the specific language governing permissions and\n# limitations under the License.\n\napiVersion: v1\nkind: Service\nmetadata:\n  name: frontend\nspec:\n  clusterIP: None\n  selector:\n    app: frontend\n  ports:\n  - name: web\n    port: 9090\n",
            "yaml_body_parsed": "apiVersion: v1\nkind: Service\nmetadata:\n  name: frontend\n  namespace: imreddy\nspec:\n  clusterIP: None\n  ports:\n  - name: web\n    port: 9090\n  selector:\n    app: frontend\n",
            "yaml_incluster": "4ab5044fc7dbd822995b4d019b9cee5cec65a61bcc5d5898ddd19a2975038ca2"
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDB9LCJzY2hlbWFfdmVyc2lvbiI6IjEifQ==",
          "dependencies": [
            "module.kuberay.helm_release.ray-cluster",
            "module.kubernetes.data.local_file.fluentd_config_yaml",
            "module.kubernetes.kubectl_manifest.fluentd_config",
            "module.prometheus.data.local_file.frontend_service"
          ]
        }
      ]
    },
    {
      "module": "module.prometheus",
      "mode": "managed",
      "type": "kubectl_manifest",
      "name": "prometheus_grafana",
      "provider": "provider[\"registry.terraform.io/alekc/kubectl\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "api_version": "apps/v1",
            "apply_only": false,
            "force_conflicts": false,
            "force_new": false,
            "id": "/apis/apps/v1/namespaces/imreddy/deployments/grafana",
            "ignore_fields": null,
            "kind": "Deployment",
            "live_manifest_incluster": "29a916cae9ee9dbe6a8d7f515d009938d15c88b868ac2c7806df24c5c27288cb",
            "live_uid": "569cf30d-ca01-42cd-a834-5979f0d670a3",
            "name": "grafana",
            "namespace": "imreddy",
            "override_namespace": "imreddy",
            "sensitive_fields": null,
            "server_side_apply": false,
            "timeouts": null,
            "uid": "569cf30d-ca01-42cd-a834-5979f0d670a3",
            "validate_schema": true,
            "wait": null,
            "wait_for": [],
            "wait_for_rollout": true,
            "yaml_body": "# Copyright 2022 Google LLC\n#\n# Licensed under the Apache License, Version 2.0 (the \"License\");\n# you may not use this file except in compliance with the License.\n# You may obtain a copy of the License at\n#\n#     https:#www.apache.org/licenses/LICENSE-2.0\n#\n# Unless required by applicable law or agreed to in writing, software\n# distributed under the License is distributed on an \"AS IS\" BASIS,\n# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n# See the License for the specific language governing permissions and\n# limitations under the License.\n\napiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: grafana\nspec:\n  replicas: 1\n  selector:\n    matchLabels:\n      app: grafana\n  template:\n    metadata:\n      labels:\n        app: grafana\n    spec:\n      nodeSelector:\n        kubernetes.io/os: linux\n        kubernetes.io/arch: amd64\n      containers:\n      - name: grafana\n        image: grafana/grafana:8.3.4\n        ports:\n        - name: web\n          containerPort: 3000\n",
            "yaml_body_parsed": "apiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: grafana\n  namespace: imreddy\nspec:\n  replicas: 1\n  selector:\n    matchLabels:\n      app: grafana\n  template:\n    metadata:\n      labels:\n        app: grafana\n    spec:\n      containers:\n      - image: grafana/grafana:8.3.4\n        name: grafana\n        ports:\n        - containerPort: 3000\n          name: web\n      nodeSelector:\n        kubernetes.io/arch: amd64\n        kubernetes.io/os: linux\n",
            "yaml_incluster": "29a916cae9ee9dbe6a8d7f515d009938d15c88b868ac2c7806df24c5c27288cb"
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDB9LCJzY2hlbWFfdmVyc2lvbiI6IjEifQ==",
          "dependencies": [
            "module.kuberay.helm_release.ray-cluster",
            "module.kubernetes.data.local_file.fluentd_config_yaml",
            "module.kubernetes.kubectl_manifest.fluentd_config",
            "module.prometheus.data.local_file.grafana_deployment"
          ]
        }
      ]
    },
    {
      "module": "module.prometheus",
      "mode": "managed",
      "type": "kubectl_manifest",
      "name": "prometheus_grafana_service",
      "provider": "provider[\"registry.terraform.io/alekc/kubectl\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "api_version": "v1",
            "apply_only": false,
            "force_conflicts": false,
            "force_new": false,
            "id": "/api/v1/namespaces/imreddy/services/grafana",
            "ignore_fields": null,
            "kind": "Service",
            "live_manifest_incluster": "a7ad3f7557dfca25b2f29ba4a619375bb9e4b337e168b056f35735389c96bbe5",
            "live_uid": "8f41deaa-9aa7-4b37-bb70-786d55f08e00",
            "name": "grafana",
            "namespace": "imreddy",
            "override_namespace": "imreddy",
            "sensitive_fields": null,
            "server_side_apply": false,
            "timeouts": null,
            "uid": "8f41deaa-9aa7-4b37-bb70-786d55f08e00",
            "validate_schema": true,
            "wait": null,
            "wait_for": [],
            "wait_for_rollout": true,
            "yaml_body": "# Copyright 2022 Google LLC\n#\n# Licensed under the Apache License, Version 2.0 (the \"License\");\n# you may not use this file except in compliance with the License.\n# You may obtain a copy of the License at\n#\n#     https:#www.apache.org/licenses/LICENSE-2.0\n#\n# Unless required by applicable law or agreed to in writing, software\n# distributed under the License is distributed on an \"AS IS\" BASIS,\n# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n# See the License for the specific language governing permissions and\n# limitations under the License.\n\napiVersion: v1\nkind: Service\nmetadata:\n  name: grafana\nspec:\n  clusterIP: None\n  selector:\n    app: grafana\n  ports:\n  - name: web\n    port: 3000\n",
            "yaml_body_parsed": "apiVersion: v1\nkind: Service\nmetadata:\n  name: grafana\n  namespace: imreddy\nspec:\n  clusterIP: None\n  ports:\n  - name: web\n    port: 3000\n  selector:\n    app: grafana\n",
            "yaml_incluster": "a7ad3f7557dfca25b2f29ba4a619375bb9e4b337e168b056f35735389c96bbe5"
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDB9LCJzY2hlbWFfdmVyc2lvbiI6IjEifQ==",
          "dependencies": [
            "module.kuberay.helm_release.ray-cluster",
            "module.kubernetes.data.local_file.fluentd_config_yaml",
            "module.kubernetes.kubectl_manifest.fluentd_config",
            "module.prometheus.data.local_file.grafana_service"
          ]
        }
      ]
    }
  ],
  "check_results": null
}
